<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ürün Detay</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

    <style>
        .zoom-container:hover img {
            transform: scale(1.5);
            transition: transform 0.3s ease;
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #718096;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div id="app" class="container mx-auto px-4 py-8">
        <!-- Ürün Başlık -->
        <h1 class="text-3xl font-bold mb-8">{{ product.name }}</h1>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Sol Kolon: Ürün Görselleri -->
            <div>
                <div class="overflow-hidden rounded-lg mb-4 zoom-container">
                    <img :src="selectedImage" class="w-full h-96 object-cover" />
                </div>
                <div class="grid grid-cols-4 gap-2">
                    <template v-for="(img, index) in product.images">
                        <div 
                            :key="index"
                            @click="selectedImage = img"
                            class="cursor-pointer border-2 rounded-lg"
                            :class="{'border-blue-500': selectedImage === img}"
                        >
                            <img :src="img" class="w-full h-24 object-cover rounded-lg" />
                        </div>
                    </template>
                </div>
            </div>

            <!-- Sağ Kolon: Ürün Bilgileri -->
            <div>
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <div class="text-2xl font-bold">{{ formatPrice(product.price) }}</div>
                        <div class="flex items-center">
                            <span class="text-yellow-400">★★★★☆</span>
                            <span class="ml-2 text-gray-600">(128 değerlendirme)</span>
                        </div>
                    </div>

                    <div class="space-y-2">
                        <h3 class="font-semibold">Renk Seçimi</h3>
                        <div class="flex gap-2">
                            <template v-for="color in product.colors">
                                <button 
                                    :key="color"
                                    @click="selectedColor = color"
                                    class="w-8 h-8 rounded-full border-2"
                                    :class="{'ring-2 ring-blue-500': selectedColor === color}"
                                    :style="`background-color: ${color}`"
                                ></button>
                            </template>
                        </div>
                    </div>

                    <div class="space-y-2">
                        <h3 class="font-semibold">Beden</h3>
                        <div class="flex gap-2">
                            <template v-for="size in product.sizes">
                                <button 
                                    :key="size"
                                    @click="selectedSize = size"
                                    class="px-4 py-2 border rounded-md"
                                    :class="{'bg-blue-500 text-white': selectedSize === size}"
                                >
                                    {{ size }}
                                </button>
                            </template>
                        </div>
                    </div>

                    <div class="space-y-2">
                        <h3 class="font-semibold">Adet</h3>
                        <div class="flex items-center gap-2">
                            <button 
                                @click="quantity > 1 && quantity--"
                                class="px-3 py-1 border rounded-md"
                            >-</button>
                            <span class="px-4 py-1">{{ quantity }}</span>
                            <button 
                                @click="quantity++"
                                class="px-3 py-1 border rounded-md"
                            >+</button>
                        </div>
                    </div>

                    <button 
                        @click="addToCart"
                        class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition"
                    >
                        Sepete Ekle
                    </button>
                </div>

                <!-- Ürün Açıklaması -->
                <div class="mt-8">
                    <h3 class="font-semibold mb-2">Ürün Açıklaması</h3>
                    <p class="text-gray-600">{{ product.description }}</p>
                </div>
            </div>
        </div>

        <!-- Benzer Ürünler -->
        <div class="mt-16">
            <h2 class="text-2xl font-bold mb-6">Benzer Ürünler</h2>
            <div class="swiper similarProducts">
                <div class="swiper-wrapper">
                    <template v-for="item in similarProducts">
                        <div class="swiper-slide">
                            <div class="border rounded-lg p-4">
                                <img :src="item.image" class="w-full h-48 object-cover rounded-lg mb-4">
                                <h3 class="font-semibold">{{ item.name }}</h3>
                                <p class="text-gray-600">{{ formatPrice(item.price) }}</p>
                            </div>
                        </div>
                    </template>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>

        <!-- Yorumlar -->
        <div class="mt-16">
            <h2 class="text-2xl font-bold mb-6">Müşteri Yorumları</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-4 custom-scrollbar max-h-[500px] overflow-y-auto">
                    <template v-for="review in product.reviews">
                        <div class="border rounded-lg p-4">
                            <div class="flex items-center justify-between mb-2">
                                <div class="font-semibold">
                                                                    {{ review.user }}
                                </div>
                                <div class="text-yellow-400">
                                    {{ '★'.repeat(review.rating) }}{{ '☆'.repeat(5-review.rating) }}
                                </div>
                            </div>
                            <p class="text-gray-600">{{ review.comment }}</p>
                            <div class="mt-2 text-sm text-gray-500">{{ review.date }}</div>
                        </div>
                    </template>
                </div>

                <!-- Yorum Formu -->
                <div class="border rounded-lg p-6">
                    <h3 class="text-xl font-semibold mb-4">Yorum Yap</h3>
                    <form @submit.prevent="submitReview" class="space-y-4">
                        <div>
                            <label class="block mb-2">Puanınız</label>
                            <div class="flex gap-2">
                                <template v-for="n in 5">
                                    <button 
                                        type="button"
                                        @click="newReview.rating = n"
                                        class="text-2xl"
                                        :class="n <= newReview.rating ? 'text-yellow-400' : 'text-gray-300'"
                                    >★</button>
                                </template>
                            </div>
                        </div>
                        <div>
                            <label class="block mb-2">Yorumunuz</label>
                            <textarea 
                                v-model="newReview.comment"
                                class="w-full border rounded-lg p-2 h-32"
                                required
                            ></textarea>
                        </div>
                        <button 
                            type="submit"
                            class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition"
                        >
                            Yorum Gönder
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue

        createApp({
            data() {
                return {
                    product: {
                        id: 1,
                        name: "Premium Deri Ceket",
                        price: 2499.99,
                        description: "Yüksek kaliteli gerçek deri, modern kesim. İç astar ve çoklu cep detayları. Sonbahar/Kış sezonu için ideal.",
                        images: [
                            "https://picsum.photos/800/800?random=1",
                            "https://picsum.photos/800/800?random=2",
                            "https://picsum.photos/800/800?random=3",
                            "https://picsum.photos/800/800?random=4"
                        ],
                        colors: ['#000000', '#8B4513', '#808080', '#F5F5DC'],
                        sizes: ['S', 'M', 'L', 'XL'],
                        reviews: [
                            {
                                user: "Ahmet Y.",
                                rating: 5,
                                comment: "Harika bir ürün, kalitesi çok iyi.",
                                date: "2023-10-15"
                            },
                            {
                                user: "Mehmet K.",
                                rating: 4,
                                comment: "Güzel ürün ama biraz pahalı.",
                                date: "2023-10-14"
                            }
                        ]
                    },
                    similarProducts: [
                        {
                            id: 2,
                            name: "Klasik Deri Ceket",
                            price: 1999.99,
                            image: "https://picsum.photos/800/800?random=5"
                        },
                        {
                            id: 3,
                            name: "Spor Deri Ceket",
                            price: 2199.99,
                            image: "https://picsum.photos/800/800?random=6"
                        },
                        {
                            id: 4,
                            name: "Vintage Deri Ceket",
                            price: 2299.99,
                            image: "https://picsum.photos/800/800?random=7"
                        }
                    ],
                    selectedImage: "https://picsum.photos/800/800?random=1",
                    selectedColor: '#000000',
                    selectedSize: 'M',
                    quantity: 1,
                    newReview: {
                        rating: 5,
                        comment: ""
                    }
                }
            },
            methods: {
                formatPrice(price) {
                    return new Intl.NumberFormat('tr-TR', {
                        style: 'currency',
                        currency: 'TRY'
                    }).format(price)
                },
                addToCart() {
                    alert('Ürün sepete eklendi!')
                },
                submitReview() {
                    const review = {
                        user: "Kullanıcı",
                        rating: this.newReview.rating,
                        comment: this.newReview.comment,
                        date: new Date().toISOString().split('T')[0]
                    }
                    this.product.reviews.unshift(review)
                    this.newReview.comment = ""
                    alert('Yorumunuz başarıyla eklendi!')
                }
            },
            mounted() {
                new Swiper('.similarProducts', {
                    slidesPerView: 1,
                    spaceBetween: 20,
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true
                    },
                    breakpoints: {
                        640: {
                            slidesPerView: 2,
                        },
                        768: {
                            slidesPerView: 3,
                        }
                    }
                })
            }
        }).mount('#app')
    </script>
</body>
</html>
